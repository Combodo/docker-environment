ARG IMAGE=php:8.1-fpm
ARG XDEBUG_VERSION=3.4.1

FROM ${IMAGE}

ARG XDEBUG_VERSION
ARG UID=1000
ARG GID=1000

RUN usermod -u ${UID} www-data && groupmod -g ${GID} www-data

# Install @mariadb-client & @graphviz
RUN apt-get update && apt-get install mariadb-client graphviz -y

# install php extensions
COPY --from=ghcr.io/mlocati/php-extension-installer /usr/bin/install-php-extensions /usr/local/bin/

RUN install-php-extensions gd xdebug apcu imap mysqli soap zip ldap